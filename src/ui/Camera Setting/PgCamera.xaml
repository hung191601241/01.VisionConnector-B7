<Page x:Class="AutoLaserCuttingInput.PgCamera"
      xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:se="clr-namespace:VisionInspection"
      xmlns:local="clr-namespace:ITM_Semiconductor"
      mc:Ignorable="d" 
     d:DesignHeight="1840" d:DesignWidth="1300"
      Title="PgCamera">

    <Page.CommandBindings>
        <CommandBinding Command="New" CanExecute="CommonCommandBinding_CanExecute" />
        <CommandBinding Command="Open" CanExecute="CommonCommandBinding_CanExecute" />
        <CommandBinding Command="Save" CanExecute="CommonCommandBinding_CanExecute" />
    </Page.CommandBindings>
    <Page.Resources>
        <Style x:Key="MenuItemBaseStyle" TargetType="{x:Type ContextMenu}">
            <!--<Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ContextMenu}">
                        <Grid SnapsToDevicePixels="true">
                            <DockPanel>
                                <ContentPresenter x:Name="Icon" ContentSource="Icon" Margin="4,0,6,0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center"/>
                                <Path x:Name="GlyphPanel" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Margin="7,0,0,0" Visibility="Collapsed" VerticalAlignment="Center"/>
                                <ContentPresenter x:Name="content" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                            </DockPanel>
                            <Popup x:Name="PART_Popup" AllowsTransparency="true" Focusable="false" HorizontalOffset="1" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Bottom" VerticalOffset="-1">

                                <Border BorderThickness="2" BorderBrush="#202020" Background="#202020">
                                    <ScrollViewer x:Name="SubMenuScrollViewer" CanContentScroll="true" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                        <Grid RenderOptions.ClearTypeHint="Enabled">
                                            <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="true" Margin="2" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                        </Grid>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="TextBlock.Foreground" Value="DarkOrange" TargetName="content"/>

                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>-->
            <Setter Property="Foreground" Value="LightGray"></Setter>
        </Style>
        <Style TargetType="MenuItem">
            <Setter Property="Foreground" Value="LightGray" />
            <Setter Property="Background" Value="#404040"></Setter>
            <Style.Triggers>
                <Trigger Property = "IsMouseOver" Value = "True">

                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="FontSize" Value="15"></Setter>
            <Setter Property="Background" Value="#222222"></Setter>
            <Setter Property="Foreground" Value="#222222"></Setter>
            <Setter Property="SelectedValue" Value="Content"></Setter>
            <Setter Property="IsEditable" Value="True"></Setter>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#555555"></Setter>
            <Setter Property="Foreground" Value="LightGray"></Setter>
        </Style>
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="White"></Setter>
        </Style>
        <Style TargetType="xctk:IntegerUpDown">
            <Setter Property="Foreground" Value="White"></Setter>
            <Setter Property="Background" Value="#454343"></Setter>
        </Style>
        <ContextMenu x:Key="cmButton">
            <MenuItem Name="cmCamAcqui" Click="cmCamAcqui_Clicked" Header="Start Acquisition" />
            <MenuItem Name="cmCamStopAcqui" Click="cmCamStopAcqui_Clicked" Header="Stop Acquisition" />
            <MenuItem Header="MultiCast Settings" />
            <MenuItem Header="Rename User ID" />
        </ContextMenu>
        <ContextMenu x:Key="cmRegion">
            <MenuItem Background="Transparent" Foreground="Black" Header="Delete" Click="MenuItem_Delete_Click">
                <MenuItem.Icon>
                    <Image></Image>
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem Background="Transparent" Foreground="Black" Header="Set Template" Click="MenuItemTemplate_Click">
                <MenuItem.Icon>
                    <Image></Image>
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem Background="Transparent" Foreground="Black" Header="Creat ROI matrix" Click="MenuItemCreatMatrix_Click">
                <MenuItem.Icon>
                    <Image></Image>
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem Background="Transparent" Foreground="Black" Header="Property" Click="Property_Click">
                <MenuItem.Icon>
                    <Image></Image>
                </MenuItem.Icon>
            </MenuItem>
        </ContextMenu>
    </Page.Resources>

    <Grid Background="#333333">
        <Grid.RowDefinitions>
            <RowDefinition Height="90*"></RowDefinition>
            <RowDefinition Height="10*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="70*"></ColumnDefinition>
                <ColumnDefinition Width="1*"></ColumnDefinition>
                <ColumnDefinition Width="30*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0" Grid.ColumnSpan="2">

                <Grid.RowDefinitions>
                    <RowDefinition Height="5*"></RowDefinition>
                    <RowDefinition Height="5*"></RowDefinition>
                    <RowDefinition Height="80*"></RowDefinition>
                </Grid.RowDefinitions>
                <Label Name="lbl_Status_Camera" Grid.Row="0" VerticalAlignment="Center"  HorizontalAlignment="Left"
                           Foreground="#FF13ABE9"
                           FontSize="20" FontWeight="Bold">Both Chanel is Close</Label>
                <!--<Label   Content="Image Source" Foreground="#FF07A9F0"></Label>-->
                <Grid Grid.Row="1">
                    <Grid.Resources>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="{x:Type Button}">
                                        <Border Background="{TemplateBinding Background}" BorderBrush="Black" BorderThickness="0">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#444444"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Resources>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="317*"/>
                        <ColumnDefinition Width="597*"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Background="#555555" Grid.ColumnSpan="2">
                        <Button Height="20" Width="20" Margin="0,0,5,0" >
                            <Image x:Name="cameraGrab">
                                <Image.ToolTip>
                                    <ToolTip Background="LightYellow">
                                        <TextBlock TextWrapping="WrapWithOverflow">Start Acquisition.</TextBlock>
                                    </ToolTip>
                                </Image.ToolTip>
                            </Image>
                        </Button>
                        <Button Name="btnCamCenterLine" Height="20" Width="20" Margin="0,0,5,0">
                            <Image Name="cameraCenterLine">
                                <Image.ToolTip>
                                    <ToolTip Background="LightYellow">
                                        <TextBlock TextWrapping="WrapWithOverflow">Show Cross Line</TextBlock>
                                    </ToolTip>
                                </Image.ToolTip>
                            </Image>
                        </Button>
                        <Button Height="20" Width="20" Margin="0,0,5,0">
                            <Image Name="cameraGridLine">
                                <Image.ToolTip>
                                    <ToolTip Background="LightYellow">
                                        <TextBlock TextWrapping="WrapWithOverflow">Show Grid</TextBlock>
                                    </ToolTip>
                                </Image.ToolTip>
                            </Image>
                        </Button>
                        <Button Name="btnCameraZoomIn" Height="20" Width="20" Margin="0,0,5,0">
                            <Image Name="cameraZoomIn">
                                <Image.ToolTip>
                                    <ToolTip Background="LightYellow">
                                        <TextBlock TextWrapping="WrapWithOverflow">Zoom in</TextBlock>
                                    </ToolTip>
                                </Image.ToolTip>
                            </Image>
                        </Button>
                        <Button Name="btnCameraZoomOut" Height="20" Width="20" Margin="0,0,5,0">
                            <Image Name="cameraZoomOut">
                                <Image.ToolTip>
                                    <ToolTip Background="LightYellow">
                                        <TextBlock TextWrapping="WrapWithOverflow">Zoom out</TextBlock>
                                    </ToolTip>
                                </Image.ToolTip>
                            </Image>
                        </Button>
                        <Button x:Name="btnCreatRoi" Height="20" Width="20" Margin="0,0,5,0">
                            <Image Name="cameraFrameSave">
                                <Image.ToolTip>
                                    <ToolTip Background="LightYellow">
                                        <TextBlock TextWrapping="WrapWithOverflow">
            Add new Region. <LineBreak />
                                        </TextBlock>
                                    </ToolTip>
                                </Image.ToolTip>
                            </Image>
                        </Button>
                    </StackPanel>
                </Grid>
                <Grid Grid.Row="2" Name="grCanvas">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="10*"></RowDefinition>
                        <RowDefinition Height="1*"></RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto"  VerticalScrollBarVisibility="Auto">
                            <Canvas Panel.ZIndex="1" Name="myCanvas" ClipToBounds="True"
            RenderTransformOrigin="0,0" MouseLeftButtonDown="MainCanvas_MouseLeftButtonDown" MouseLeftButtonUp="MainCanvas_MouseLeftButtonUp" MouseMove="MainCanvas_MouseMove" MouseWheel="Container_MouseWheel">
                                <Image MouseDown="imgView_MouseDown" Source="/Folder/PageUI/Icon/OK.bmp" HorizontalAlignment="Left" Width="{Binding ElementName=myCanvas, Path=ActualWidth, Mode=OneWay}" Height="{Binding ElementName=myCanvas, Path=ActualHeight, Mode=OneWay}"  Name="imgView">
                                </Image>
                                <Line MouseLeftButtonDown="MainCanvas_MouseLeftButtonDown" MouseLeftButtonUp="MainCanvas_MouseLeftButtonUp" MouseMove="MainCanvas_MouseMove" Visibility="Hidden" Name="LineCreossY" Panel.ZIndex="1"
X1="600" Y1="60"
X2="600" Y2="800"
Stroke="OrangeRed"
StrokeThickness="3" />
                                <Line MouseLeftButtonDown="MainCanvas_MouseLeftButtonDown" MouseLeftButtonUp="MainCanvas_MouseLeftButtonUp" MouseMove="MainCanvas_MouseMove" Visibility="Hidden" Name="LineCreossX" Panel.ZIndex="1"
X1="0" Y1="500"
X2="1000" Y2="500"
Stroke="OrangeRed"
StrokeThickness="3" />
                                <TextBox FontSize="20" x:Name="myToolTip" ToolTipService.InitialShowDelay="5000" 
            ToolTipService.ShowDuration="2000" 
            ToolTipService.BetweenShowDelay="10000" 
            ToolTip="This is a tool tip." Panel.ZIndex="100" />
                                <se:ShapeEditor x:Name="ShapeEditorControl" Height="100" Canvas.Left="46" Canvas.Top="170" Width="100"/>
                            </Canvas>
                        </ScrollViewer>
                    </Grid>
                    <StackPanel Grid.Row="1" Orientation="Horizontal">
                        <Label Name="CanImageRGB" Margin="0,0,10,0" Width="150">R: 122, G: 122, B: 122</Label>
                        <Label Width="200" Name="canVasPos" Margin="0,0,10,0">Position: 1123, 657</Label>
                        <Label Name="CanResolution" Margin="0,0,10,0">Image: 5432 x 3247</Label>
                    </StackPanel>
                </Grid>
            </Grid>
            <Grid Grid.Column="2">
                <Grid.Resources>
                    <Style x:Key="MenuItemBaseStyle" TargetType="{x:Type MenuItem}">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type MenuItem}">
                                    <Grid SnapsToDevicePixels="true">
                                        <DockPanel>
                                            <ContentPresenter x:Name="Icon" ContentSource="Icon" Margin="4,0,6,0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center"/>
                                            <Path x:Name="GlyphPanel" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Margin="7,0,0,0" Visibility="Collapsed" VerticalAlignment="Center"/>
                                            <ContentPresenter x:Name="content" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                        </DockPanel>
                                        <Popup x:Name="PART_Popup" AllowsTransparency="true" Focusable="false" HorizontalOffset="1" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Bottom" VerticalOffset="-1">

                                            <Border BorderThickness="2" BorderBrush="#202020" Background="#202020">
                                                <ScrollViewer x:Name="SubMenuScrollViewer" CanContentScroll="true" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                                    <Grid RenderOptions.ClearTypeHint="Enabled">
                                                        <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="true" Margin="2" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                                    </Grid>
                                                </ScrollViewer>
                                            </Border>
                                        </Popup>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="TextBlock.Foreground" Value="DarkOrange" TargetName="content"/>

                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Foreground" Value="LightGray"></Setter>
                    </Style>
                    <Style TargetType="MenuItem">
                        <Setter Property="Foreground" Value="LightGray" />
                        <Setter Property="Background" Value="#404040"></Setter>
                        <Style.Triggers>
                            <Trigger Property = "IsMouseOver" Value = "True">

                            </Trigger>
                        </Style.Triggers>
                    </Style>
                    <Style TargetType="ComboBox">
                        <Setter Property="FontSize" Value="15"></Setter>
                        <Setter Property="Background" Value="#222222"></Setter>
                        <Setter Property="Foreground" Value="#222222"></Setter>
                        <Setter Property="SelectedValue" Value="Content"></Setter>
                        <Setter Property="IsEditable" Value="True"></Setter>
                    </Style>
                    <Style TargetType="TextBox">
                        <Setter Property="Background" Value="#555555"></Setter>
                        <Setter Property="Foreground" Value="LightGray"></Setter>
                    </Style>
                    <Style TargetType="Label">
                        <Setter Property="Foreground" Value="White"></Setter>
                    </Style>
                    <Style TargetType="xctk:IntegerUpDown">
                        <Setter Property="Foreground" Value="White"></Setter>
                        <Setter Property="Background" Value="#454343"></Setter>
                    </Style>
                    <Style TargetType="Button">
                        <Setter Property="Foreground" Value="Black"></Setter>
                        <Setter Property="Background" Value="#777777"></Setter>
                    </Style>
                </Grid.Resources>
                <Grid.RowDefinitions>
                    <RowDefinition Height="5*"></RowDefinition>
                    <RowDefinition Height="5*"></RowDefinition>
                    <RowDefinition Height="80*"></RowDefinition>
                </Grid.RowDefinitions>

                <Menu Grid.Row="1" Background="#404040">
                    <MenuItem x:Name="btnOpenPylon" Header="Camera View" Style="{StaticResource MenuItemBaseStyle}">
                        <MenuItem x:Name="menuPylonView" Header="Basler Camera App" >
                            <MenuItem.Icon>
                                <Image Source="/Folder/PageUI/Icon/pylon.jpg"></Image>
                            </MenuItem.Icon>
                        </MenuItem>
                        <!--<Separator/>-->
                        <MenuItem x:Name="menuMVSView" Header="Hik Camera App">
                            <MenuItem.Icon>
                                <Image Source="/Folder/PageUI/Icon/MVS.jpg"></Image>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem x:Name="menuRedo" Header="Redo"/>
                        <!--<Separator/>-->
                        <MenuItem x:Name="menuCanvasBackground" Header="Background">
                            <MenuItem x:Name="menuBackground" Header="Color"/>
                            <MenuItem x:Name="menuBackgroundImage" Header="Image"/>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem x:Name="menuSaveAs" Header="Parameter Setting" Style="{StaticResource MenuItemBaseStyle}" >
                        <MenuItem x:Name="menuHikCamView" Header="View - Setting">
                            <MenuItem.Icon>
                                <Image Source="/Folder/PageUI/Icon/menu-mechanic.png"></Image>
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem x:Name="menuExport" Header="Export" Style="{StaticResource MenuItemBaseStyle}"/>
                    <MenuItem x:Name="menuView" Header="View" Style="{StaticResource MenuItemBaseStyle}"/>
                    <MenuItem x:Name="menuQuit" Header="Help" Style="{StaticResource MenuItemBaseStyle}"/>
                </Menu>
                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="btnCamSaveSetting" Background="#555555"  Margin="5,5,5,5">
                        <StackPanel Orientation="Horizontal">
                            <Image x:Name="img" Height="16" Width="16" Source="/Folder/PageUI/Icon/save.png" ></Image>
                            <Label Foreground="White" Content="Save All"></Label>
                        </StackPanel>
                    </Button>
                    <Button Background="#555555" Margin="5,5,5,5">
                        <StackPanel Orientation="Horizontal">
                            <Image Height="16" Width="16" Source="/Folder/PageUI/Icon/reset.png" ></Image>
                            <Label Foreground="White" Content="Default"></Label>
                        </StackPanel>
                    </Button>
                </StackPanel>
                <TextBlock Grid.Row="0" VerticalAlignment="Center"  HorizontalAlignment="Left"
                           Foreground="#FF13ABE9"
                           FontSize="20" FontWeight="Bold">Hik Camera</TextBlock>
                <Grid Grid.Row="2">
                    <Grid.Resources>
                        <Style TargetType="TreeViewItem">
                            <Setter Property="Foreground" Value="White" />
                        </Style>
                    </Grid.Resources>
                    <TabControl Background="#505050">
                        <TabItem>
                            <TabItem.Header>
                                <TextBlock Background="Transparent"  >Camera Device Setting</TextBlock>
                            </TabItem.Header>
                            <ScrollViewer Grid.Row="2" CanContentScroll="True" VerticalScrollBarVisibility="Auto"  HorizontalScrollBarVisibility="Auto">
                                <StackPanel>
                                    <TreeView  Background="#404040"  >
                                        <TreeView.Items>
                                            <TreeViewItem>
                                                <TreeViewItem.Header>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Background="Transparent"  >Camera Setting</TextBlock>
                                                        <Button Visibility="Hidden" Name="btnReloadCamera" BorderThickness="0" Background="Transparent" Width="20" Height="20" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                            <Image Height="16" Width="16" Source="/Folder/PageUI/Icon/reset.png" ></Image>
                                                        </Button>
                                                    </StackPanel>
                                                </TreeViewItem.Header>
                                                <TreeViewItem Name="treeViewCamera1"  Header="CH1_Camera 1">
                                                    <TreeViewItem Header="Device name">
                                                        <ComboBox x:Name = "txt_Camera1_name_device" IsEditable="True" SelectedValuePath="Content"></ComboBox>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="Expose Time">
                                                        <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">

                                                            <xctk:IntegerUpDown Minimum="0" Maximum="100000" Foreground="White" Background="#454343" x:Name="Cam1ExposeTime" Width="100" Margin="2,2,2,2" />
                                                        </StackPanel>

                                                    </TreeViewItem>
                                                    <TreeViewItem Header="Analog Control">
                                                        <Label Content="Gain"></Label>
                                                        <StackPanel VerticalAlignment="Center">
                                                            <Slider TickFrequency="0.1" Name="sldCam1Gain" Maximum="23.7" Minimum="0.0" Width="100" AutoToolTipPlacement="TopLeft"/>
                                                            <Label/>
                                                            <TextBox Name="txtCam1Gain"/>
                                                        </StackPanel>
                                                        <Label Content="Gama"></Label>
                                                        <StackPanel VerticalAlignment="Center">
                                                            <Slider TickFrequency="0.1" Name="sldCam1Gama" Maximum="4.0" Minimum="0.0" Width="100" AutoToolTipPlacement="TopLeft"/>
                                                            <Label/>
                                                            <TextBox Name="txtCam1Gama"/>
                                                        </StackPanel>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="file Config">
                                                        <TextBox Name="txt_camera1_fileConfig"></TextBox>
                                                        <Button Name="btn_camera1_brown" Content="..."></Button>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="Rotation">
                                                        <xctk:IntegerUpDown Name="IudCam1C1Rot" Minimum="0" Maximum="360" Value="0" Foreground="White" Background="#454343" Width="50" />
                                                    </TreeViewItem>
                                                </TreeViewItem>
                                                <TreeViewItem Name="treeViewCamera2" Header="CH2_Camera 2" IsExpanded="True">
                                                    <TreeViewItem Header="Device name">
                                                        <ComboBox x:Name = "txt_Camera2_name_device" IsEditable="True" SelectedValuePath="Content"></ComboBox>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="ExposeTime">
                                                        <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">

                                                            <xctk:IntegerUpDown Minimum="0" Maximum="100000" Foreground="White" Background="#454343" x:Name="Cam2ExposeTime" Width="100" Margin="2,2,2,2" />
                                                        </StackPanel>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="Analog Control">
                                                        <Label Content="Gain"></Label>
                                                        <StackPanel VerticalAlignment="Center">
                                                            <Slider TickFrequency="0.1" Name="sldCam2Gain" Maximum="23.7" Minimum="0.0" Width="100" AutoToolTipPlacement="TopLeft"/>
                                                            <Label/>
                                                            <TextBox Name="txtCam2Gain"/>
                                                        </StackPanel>
                                                        <Label Content="Gama"></Label>
                                                        <StackPanel VerticalAlignment="Center">
                                                            <Slider TickFrequency="0.1" Name="sldCam2Gama" Maximum="4.0" Minimum="0.0" Width="100" AutoToolTipPlacement="TopLeft"/>
                                                            <Label/>
                                                            <TextBox Name="txtCam2Gama"/>
                                                        </StackPanel>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="file Config">
                                                        <TextBox Name="txt_camera2_fileConfig"></TextBox>
                                                        <Button Name="btn_camera2_brown" Content="..."></Button>
                                                    </TreeViewItem>
                                                    <TreeViewItem Header="Rotation">
                                                        <xctk:IntegerUpDown Name="IudCam1C2Rot" Minimum="0" Maximum="360" Value="0" Foreground="White" Background="#454343" Width="50" />
                                                    </TreeViewItem>
                                                </TreeViewItem>
                                            </TreeViewItem>
                                        </TreeView.Items>
                                    </TreeView>
                                    <TreeView Name="treeViewDevice" Background="#404040"  >
                                        <TreeViewItem Header="Device List">
                                            <TreeViewItem Name="treeViewGige" Header="Gige"></TreeViewItem>
                                            <TreeViewItem Name="treeViewUSB" Header="USB"></TreeViewItem>
                                            <TreeViewItem Name="treeViewLink" Header="Camera Link"></TreeViewItem>
                                            <TreeViewItem Name="treeViewGenTL" Header="Gen TL"></TreeViewItem>
                                        </TreeViewItem>
                                    </TreeView>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem>
                        <TabItem >
                            <TabItem.Header >
                                <TextBlock >Vision Job Setings</TextBlock>
                            </TabItem.Header>
                            <ScrollViewer Background="#404040" VerticalScrollBarVisibility="Visible">
                                <StackPanel Name="StackPanel1" Margin="0,0,0,0">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                    </StackPanel>
                                    <Expander Header="Image Source" Foreground="White" Margin="0,0,0,0" IsExpanded="True" BorderThickness="1">
                                        <StackPanel Margin="35,0,0,0" >
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Foreground="White" Height="25.96" Width="84">Choose file</Label>
                                                <TextBox Name="txtCamChoosefile" Height="25" Width="100" />
                                                <Button Name="btnCamChooseFile" Content=" ... "></Button>
                                                <Button Name="btnVSJob" Foreground="White" Margin="20,0,0,0">Checking job</Button>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Foreground="White" Height="25.96" Width="84">Camera</Label>
                                                <ComboBox IsEditable="False"  SelectedValue="CH1" FontWeight="Bold" Grid.Row="2" Margin="3,3,3,3"  Grid.Column="1" x:Name="cbxCameraCh" SelectedValuePath="Content" FontSize="15" VerticalContentAlignment="Center" HorizontalContentAlignment="Right">
                                                    <ComboBoxItem FontSize="15">CH1</ComboBoxItem>
                                                    <ComboBoxItem FontSize="15">CH2</ComboBoxItem>
                                                </ComboBox>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Ellipse Name="ckCamOneSh" Canvas.Top="0" Canvas.Left="0" Fill="Transparent" Height="10" Width="10" StrokeThickness="5"/>
                                                <Button Name="btnCamOneShot" Background="Transparent" BorderThickness="0" Foreground="White" Height="25.96" Width="60">One shot</Button>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Ellipse Name="ckCamCtn" Canvas.Top="0" Canvas.Left="0" Fill="Transparent" Height="10" Width="10" StrokeThickness="5"/>
                                                <Button Name="btnCamCtn" Background="Transparent" BorderThickness="0" Foreground="White" Height="25.96" Width="65">Continous</Button>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Ellipse Name="ckStop" Canvas.Top="0" Canvas.Left="0" Fill="Transparent" Height="10" Width="10" StrokeThickness="5"/>
                                                <Button Name="btnStop" Background="Transparent" BorderThickness="0" Foreground="White" Height="25.96" Width="65">Stop Camera</Button>
                                            </StackPanel>
                                            <Button HorizontalAlignment="Left" Name="btnCamSaveImg" Width="86" Margin="0,0,0,0">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Height="16" Width="16" Source="/Folder/PageUI/Icon/save.png" ></Image>
                                                    <Label Content="Save Image"></Label>
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>

                                    </Expander>
                                    <Separator BorderThickness="1" />
                                    <Expander Foreground="White" Header="Hardware Config" Margin="0,0,0,0" IsExpanded="True">
                                        <StackPanel Margin="35,0,0,0">
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Width="50"  >WD</Label>
                                                <xctk:IntegerUpDown IsEnabled="True" Foreground="White" Value="190" Minimum="50" Maximum="200" Background="#454343" Name="CamWD" Width="50" Margin="2,2,2,2"/>
                                                <Label>(mm)</Label>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Width="50">LWD</Label>
                                                <xctk:IntegerUpDown IsEnabled="False" Foreground="White" Value="150" Background="#454343" Name="CamLWD" Width="50" Margin="2,2,2,2" Minimum="50" Maximum="200" />
                                                <Label>(mm)</Label>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Width="50">FOV</Label>
                                                <Label >60x50</Label>
                                                <Label >(mm)</Label>
                                            </StackPanel>
                                        </StackPanel>
                                    </Expander>
                                    <Separator BorderThickness="1" />

                                    <Expander Foreground="White" Header="ROI Setting"  Margin="0,0,0,0" IsExpanded="True" BorderThickness="1">
                                        <StackPanel Margin="35,0,0,0" >

                                            <StackPanel Orientation="Horizontal">
                                                <CheckBox x:Name="cbxShowRoi" VerticalAlignment="Center"></CheckBox>
                                                <Label>Enable Edit ROI</Label>

                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <CheckBox Margin="15,0,0,0" x:Name="cbxRoiMtrix" VerticalAlignment="Center"></CheckBox>
                                                <Label Name="lbRoiMatrix">Matrix Setup ROI</Label>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <CheckBox Margin="15,0,0,0" x:Name="cbxRoiManual" VerticalAlignment="Center"></CheckBox>
                                                <Label Name="lbRoiMAnual">Manual Setup ROI</Label>

                                            </StackPanel>

                                            <StackPanel Background="#CCCCCC" Margin="0,20,0,0" Orientation="Vertical">


                                                <Button x:Name="btnCreatRegion" Background="#555555"  Margin="0,0,0,0">
                                                    <StackPanel Orientation="Horizontal">
                                                        <Image  Height="16" Width="16" Source="/Folder/PageUI/Icon/ROI.jpg" ></Image>
                                                        <Label Name="lbCreatROI" Foreground="gray" Content="Creat Region"></Label>
                                                    </StackPanel>
                                                </Button>
                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <CheckBox Name="cbxAutoIndexRoi" IsChecked="True">Auto Index</CheckBox>
                                                    <CheckBox Name="cbxManualIndexRoi" Margin="20,0,0,0">Manual Set Index</CheckBox>
                                                </StackPanel>
                                                <xctk:IntegerUpDown Value="1" HorizontalAlignment="Left" Name="intROIIndex" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" Margin="2,2,2,2" />
                                            </StackPanel>
                                            <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                                                <StackPanel>
                                                    <Button  Background="#EEEEEE" Width="70" Margin="0,50,0,0" HorizontalAlignment="Center" Name="btnROILeft"  Grid.Column="0">
                                                        <StackPanel Orientation="Horizontal">
                                                            <Image Source="/Folder/PageUI/Icon/left.png" Height="35"/>
                                                            <TextBlock Foreground="#555555"  HorizontalAlignment ="Center" VerticalAlignment="Center" FontSize="9" FontWeight="Bold" >Left-</TextBlock>
                                                        </StackPanel>
                                                    </Button>
                                                </StackPanel>
                                                <StackPanel>

                                                    <Button Background="#EEEEEE" HorizontalAlignment="Left" Width="70" Name="btnROIUp"   Grid.Row="0">
                                                        <StackPanel Orientation="Vertical">
                                                            <Image Source="/Folder/PageUI/Icon/up.png" Height="35"/>
                                                            <TextBlock Foreground="#555555"  HorizontalAlignment ="Center" VerticalAlignment="Center" FontSize="9" FontWeight="Bold" >Top</TextBlock>
                                                        </StackPanel>
                                                    </Button>
                                                    <Label Height="20" Width="70" FontSize="8" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Foreground="#222222">All ROI Shift</Label>
                                                    <Button Background="#EEEEEE" Margin="0,20,0,0" HorizontalAlignment="Left" Width="70" Name="btnROIDown" Grid.Row="2">
                                                        <StackPanel Orientation="Vertical">

                                                            <TextBlock Foreground="#555555"  HorizontalAlignment ="Center" VerticalAlignment="Center" FontSize="9" FontWeight="Bold" >Bottom</TextBlock>
                                                            <Image Source="/Folder/PageUI/Icon/down.png" Height="35"/>
                                                        </StackPanel>
                                                    </Button>

                                                </StackPanel>
                                                <StackPanel>
                                                    <Button Background="#EEEEEE" Width="70" Margin="0,50,0,0" HorizontalAlignment="Center" Name="btnROIRight"  Grid.Column="0">
                                                        <StackPanel Orientation="Horizontal">
                                                            <Image Source="/Folder/PageUI/Icon/right.png" Height="35"/>
                                                            <TextBlock Foreground="#555555"  HorizontalAlignment ="Center" VerticalAlignment="Center" FontSize="9" FontWeight="Bold" >Right</TextBlock>
                                                        </StackPanel>
                                                    </Button>
                                                </StackPanel>
                                            </StackPanel>

                                            <StackPanel Margin="0,10,0,0"  Orientation="Horizontal">

                                                <Button x:Name="btnDeleteRegionAll" Foreground="White" Width="150">Delete All</Button>


                                            </StackPanel>




                                            <Label Background="#333333" Content="Region Count:"/>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <xctk:IntegerUpDown Name="intColumns" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" Margin="2,2,2,2" />
                                            </StackPanel>


                                        </StackPanel>
                                    </Expander>
                                    <Expander Foreground="White" Header="Vidi/VisionPro Job Setting"  Margin="0,0,0,0" IsExpanded="True" BorderThickness="1">
                                        <StackPanel Background="#CCCCCC"  Orientation="Vertical">
                                            <Label FontStyle="Normal" Background="#999999"  FontWeight="Bold" Foreground="Black">1. ViDi Job Setting</Label>
                                            <StackPanel Margin="10,5,10,5" Background="#999999">
                                                <Button x:Name="btnCreatDLJob" Background="#555555"  Margin="0,0,0,0">
                                                    <StackPanel Orientation="Horizontal">
                                                        <Image  Height="16" Width="16" ></Image>
                                                        <Label   Content="Creat New Job"></Label>
                                                    </StackPanel>
                                                </Button>
                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Label Width="70" Foreground="Black">Name</Label>
                                                    <TextBox Name="txtDlName" Width="200"></TextBox>
                                                </StackPanel>
                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Label Width="70" Foreground="Black">WorkSpace</Label>
                                                    <TextBox Name="txtDlWsp" Width="200"></TextBox>
                                                    <Button Name="btnDlWorkSpaceChooseFile" Content=" ... "></Button>
                                                </StackPanel>
                                                <StackPanel Margin="0,5,0,5" Orientation="Horizontal">
                                                    <Label Width="70" Foreground="Black">Score</Label>
                                                    <xctk:IntegerUpDown Name="xctDlScore" Value="1" HorizontalAlignment="Left"  Minimum="0" Maximum="3000" Foreground="White"  Width="50"  />
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel Name="stackVidiJobList" Margin="10,0,10,5">
                                                <Label FontStyle="Normal" Background="#fff8dc" FontWeight="DemiBold" Foreground="Black">ViDi Job List</Label>
                                                <Label Name="lblVidiJobNo" Margin="10,0,0,0" BorderBrush="#888888" BorderThickness="0.5" Foreground="#888888" FontStyle="Italic">Have No Job To Display</Label>

                                            </StackPanel>

                                            <Label FontStyle="Normal" Background="#999999"  FontWeight="Bold" Foreground="Black">2. VisionPro Job Setting</Label>
                                            <StackPanel Margin="10,5,10,5" Background="#999999" >
                                                <Button x:Name="btnCreatVsProJob" Background="#555555"  Margin="0,0,0,0">
                                                    <StackPanel Orientation="Horizontal">
                                                        <Image  Height="16" Width="16" ></Image>
                                                        <Label   Content="Creat New Job"></Label>
                                                    </StackPanel>
                                                </Button>
                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Label Width="70" Foreground="Black">Name</Label>
                                                    <TextBox Name="txtVppName" Width="200"></TextBox>
                                                </StackPanel>
                                                <StackPanel Margin="0,5,0,5" Orientation="Horizontal">
                                                    <Label Width="70" Foreground="Black">Vpp File</Label>
                                                    <TextBox Name="txtVppFilePath" Width="200"></TextBox>
                                                    <Button Name="btnVppChooseFile" Content=" ... "></Button>
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel Name="stackVsProJobList" Margin="10,0,10,5">
                                                <Label FontStyle="Normal" Background="#fff8dc" FontWeight="DemiBold" Foreground="Black">VisionPro Job List</Label>
                                                <Label Name="lblVsProJobNo" Margin="10,0,0,0" BorderBrush="#888888" BorderThickness="0.5" Foreground="#888888" FontStyle="Italic">Have No Job To Display</Label>

                                            </StackPanel>
                                        </StackPanel>
                                    </Expander>
                                    <Expander Foreground="White" Header="Vision Job Setting"  Margin="0,0,0,0" IsExpanded="True" BorderThickness="1">
                                        <StackPanel Margin="35,0,0,0">
                                            <Label Background="#333333" Content="Threshol White"/>
                                            <xctk:IntegerUpDown Name="intThreshol" HorizontalAlignment="Left" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" Margin="2,2,2,2" />
                                            <Label Height="0" Background="#333333" Content="Threshol Black"/>
                                            <xctk:IntegerUpDown Height="0" Name="intThresholBl" HorizontalAlignment="Left" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" IsEnabled="False" Margin="2,2,2,2" />
                                            <Label Background="#333333" Content="White Value"/>
                                            <xctk:IntegerUpDown Name="intWhitePixel" HorizontalAlignment="Left" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" Margin="2,2,2,2" />
                                            <Label Height="0" Background="#333333" Content="Black Value"/>
                                            <xctk:IntegerUpDown Height="0" Name="intBlackPixel" HorizontalAlignment="Left" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" IsEnabled="False" Margin="2,2,2,2" />
                                            <Label Background="#333333" Content="Matching Rate"/>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label>Max</Label>
                                                <xctk:IntegerUpDown Name="dblMatchingRate" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" Margin="2,2,2,2" />
                                                <Label Content="%"/>
                                                <Label Margin="20,0,0,0">Min</Label>
                                                <xctk:IntegerUpDown Name="dblMatchingRateMin" Minimum="0" Maximum="3000" Foreground="White" Background="#454343" Width="50" Margin="2,2,2,2" />
                                                <Label Content="%"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <Label>Rotation</Label>
                                                <xctk:IntegerUpDown Name="xctTempRotation" Minimum="0" Maximum="20" Foreground="White" Background="#454343" Width="50" />
                                            </StackPanel>
                                            <Label Background="#333333">Vision Solution</Label>
                                            <RadioButton Name="rdnCirWh" Content="Circle white Value" Foreground="White" Margin="0,0,0,0">
                                            </RadioButton>
                                            <RadioButton Name="rdnRoiWh" Content="Roi white Value" Foreground="White" Margin="0,0,0,0">
                                            </RadioButton>
                                        </StackPanel>
                                    </Expander>

                                    <Expander Foreground="White" Header="Data Offset Jig" Margin="0,0,0,0" IsExpanded="True">
                                        <StackPanel Margin="35,0,0,0">
                                            <CheckBox Name="cbxEnableOffset" Content="Enable Partern Jig" Foreground="White" Margin="0,0,0,0">
                                            </CheckBox>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Width="50"  >X Offset</Label>
                                                <xctk:IntegerUpDown IsEnabled="True" Foreground="White" Value="190" Minimum="50" Maximum="200" Background="#454343" Name="xOffset" Width="50" Margin="2,2,2,2"/>
                                                <Label>(Pixel)</Label>
                                            </StackPanel>
                                            <StackPanel Height="Auto" Width="Auto" Orientation="Horizontal">
                                                <Label Width="50">Y Offset</Label>
                                                <xctk:IntegerUpDown IsEnabled="False" Foreground="White" Value="150" Background="#454343" Name="yOffset" Width="50" Margin="2,2,2,2" Minimum="50" Maximum="200" />
                                                <Label>(Pixel)</Label>
                                            </StackPanel>
                                            <Button HorizontalAlignment="Left" Name="btnSetOffset" Width="86" Margin="0,0,0,0">
                                                <StackPanel Orientation="Horizontal">
                                                    <Label Content="Set Offset"></Label>
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </Expander>
                                    <Separator BorderThickness="1" />
                                    <Expander Foreground="White" Header="Image Logger" Margin="0,0,0,0" IsExpanded="True">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <Label Foreground="White" >CH1 Image folder</Label>
                                                <TextBox Name="ImageLogPathCH1" Height="25" Width="100" />
                                                <Button Name="ImageLogPathCH1Br" >...</Button>
                                            </StackPanel>
                                            <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                                                <Label Foreground="White" >CH2 Image folder</Label>
                                                <TextBox Name="ImageLogPathCH2" Height="25" Width="100" />
                                                <Button Name="ImageLogPathCH2Br" >...</Button>
                                            </StackPanel>
                                        </StackPanel>

                                    </Expander>

                                    <Separator BorderThickness="1" />
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem>
                    </TabControl>
                </Grid>
            </Grid>

        </Grid>
        <Grid Grid.Row="1">
            <Grid.Resources>
                <Style TargetType="Button" BasedOn="{StaticResource mButton}">
                    <Setter Property="FontSize" Value="24" />
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Margin" Value="10,10,10,10" />
                </Style>
                <Style TargetType="ItemsControl" x:Key="LogViewerStyle">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate>
                                <ScrollViewer CanContentScroll="True">
                                    <ItemsPresenter/>
                                </ScrollViewer>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="ItemsPanel">
                        <Setter.Value>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel IsItemsHost="True"/>
                            </ItemsPanelTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Grid.Resources>
            <DockPanel Background="Black">
                <ItemsControl ItemsSource="{Binding LogEntries}" Style="{StaticResource LogViewerStyle}" RenderTransformOrigin="0.5,0.5">
                    <ItemsControl.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform Angle="1.253"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </ItemsControl.RenderTransform>
                    <ItemsControl.Template>
                        <ControlTemplate>
                            <ScrollViewer CanContentScroll="True" ScrollChanged="ScrollViewer_ScrollChanged">
                                <ItemsPresenter/>
                            </ScrollViewer>
                        </ControlTemplate>
                    </ItemsControl.Template>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel IsItemsHost="True"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </DockPanel>
        </Grid>

    </Grid>
</Page>
